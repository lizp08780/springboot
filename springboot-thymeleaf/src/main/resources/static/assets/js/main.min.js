var drawMenu=function(){$(".sidebar nav ul").accordion({accordion:true,speed:300,closedSign:'<em class="fa fa-plus-square-o"></em>',openedSign:'<em class="fa fa-minus-square-o"></em>'})},drawBreadCrumb=function(a){var d=$(".topbar > .breadcrumb"),c=$("nav li.active > a"),b=c.length;d.empty();d.append($("<li>首页</li>"));c.each(function(){d.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text())));if(b>0){document.title+="-"+d.find("li:last-child").text()}});if(a){$.each(a,function(e,f){if(f){d.append($("<li></li>").html(f));document.title=d.find("li:last-child").text()}})}},mountActions=function(){var b={userLogout:function(d){function c(){window.location=d.attr("href")}$.root_.addClass("animated fadeOutUp"),setTimeout(c,1000)},launchFullscreen:function(c){if($.root_.hasClass("full-screen")){$.root_.removeClass("full-screen");document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}else{$.root_.addClass("full-screen");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}},minifyMenu:function(c){if(!$.root_.hasClass("menu-on-top")){$.root_.toggleClass("minified");$.root_.removeClass("hidden-menu");$("html").removeClass("hidden-menu-mobile-lock");c.effect("highlight",{},500)}},toggleMenu:function(){if($.root_.hasClass("menu-on-top")){$.root_.hasClass("menu-on-top");if($(window).width()<979){$("html").toggleClass("hidden-menu-mobile-lock");$.root_.toggleClass("hidden-menu");$.root_.removeClass("minified")}}else{$("html").toggleClass("hidden-menu-mobile-lock");$.root_.toggleClass("hidden-menu");$.root_.removeClass("minified")}},toggleActivity:function(c){c.find(".activity .badge").each(function(){var e=$(this);if(e.hasClass("bg-color-red")){e.removeClass(function(f,g){return(g.match(/(^|\s)bg-color-\S+/g)||[]).join(" ")});e.text("0")}});var d=c.find(".activity .ajax-dropdown");if(d.is(":visible")){d.fadeOut(150);c.find(".activity").removeClass("active")}else{d.fadeIn(150);c.find(".activity").addClass("active")}}};$.root_.on("click",'[data-action="userLogout"]',function(d){var c=$(this);b.userLogout(c);d.preventDefault()}).on("click",'[data-action="launchFullscreen"]',function(c){b.launchFullscreen(document.documentElement);c.preventDefault()}).on("click",'[data-action="minifyMenu"]',function(d){var c=$(this);b.minifyMenu(c);d.preventDefault();c=null}).on("click",'[data-action="toggleMenu"]',function(c){b.toggleMenu();c.preventDefault()}).on("click",'[data-action="searchMobile"]',function(c){c.preventDefault();$.root_.addClass("search-mobile")}).on("click",'[data-action="cancelSearchMobile"]',function(c){c.preventDefault();$.root_.removeClass("search-mobile")}).on("click",'[data-action="toggleActivity"]',function(c){c.preventDefault();b.toggleActivity($(".page-header"))});$(document).mouseup(function(c){if(!$(".ajax-dropdown").is(c.target)||0!==$(".ajax-dropdown").has(c.target).length){$(".ajax-dropdown").fadeOut(150);$(".page-header .activity").removeClass("active")}});var a=$(".activity > .badge");if(parseInt(a.text())>0){a.addClass("bg-color-red bounceIn animated")}};$(function(){if($(".sidebar").size()>0){drawMenu()}if($(".topbar").size()>0){drawBreadCrumb()}if($(".page-header").size()){mountActions()}});