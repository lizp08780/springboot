(function(a){a.fn.extend({getJSON:function(g,c){c=c||"TEXTAREA,INPUT,SELECT";g=g||"";var f={},b=["TEXTAREA","INPUT","SELECT"];function d(h,i){if(f[h]){f[h]=a.makeArray(f[h]).concat(a.makeArray(i))}else{f[h]=i}}a(this).find(c).each(function(){var h=this.id;if(h){h=h.substring(g.length);if(a.inArray(this.tagName,b)>=0){if(this.type=="radio"||this.type=="checkbox"){if(this.name){h=this.name.substring(g.length)}if(this.checked){if(this.type=="checkbox"&&this.name){d(h,[a(this).val()])}else{d(h,a(this).val())}}else{d(h,null)}}else{if(this.type=="image"){d(h,this.src)}else{d(h,a(this).val())}}}else{if(this.tagName=="IMG"){d(h,this.src)}else{d(h,this.innerHTML)}}}});return f},setJSON:function(c,d,b){if(!c){return a(this)}d=d||"";var f=this;a.each(c,function(g,j){if(typeof(j)=="object"&&!a.isArray(j)){f.setJSON(j,b)}else{j=j!==0?(j||""):j;g=(d+g).replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/]/g,"\\]").replace(/:/g,"\\:");var i=f.find("#"+g);if(i.size()==0){i=f.find("[name="+g+"]:checkbox")}if(i.size()==0){i=f.find("[name="+g+"][value='"+j+"']:radio")}if(i.size()>0){if(i.size()==1){var k=i.get(0),h=k.tagName;if(h=="INPUT"||h=="SELECT"||h=="TEXTAREA"){if(k.type=="checkbox"||k.type=="radio"){if(b){k.checked=true}else{k.checked=false;i.click()}}else{if(k.type=="image"){i.attr("src",j)}else{i.val(j)}}}else{if(h=="IMG"){i.attr("src",j)}else{i.html(j)}}}else{j=a.makeArray(j);i.each(function(){if(a.inArray(this.value,j)>=0){if(b){this.checked=true}else{this.checked=false;this.click()}}else{if(b){this.checked=false}else{this.checked=true;this.click()}}})}if(!b){i.change()}}}});return a(this)},clear:function(c,b){c=c||"TEXTAREA,INPUT,SELECT";a(this).find(c).each(function(){var f=a(this);if(this.tagName=="INPUT"){if(this.type=="checkbox"){if(b){this.checked=false}else{this.checked=true;f.click()}}else{if(this.type=="radio"){if(a("input[name="+this.name.replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/]/g,"\\]").replace(/:/g,"\\:")+"]").get(0)==this){if(b){this.checked=true}else{f.click()}}}else{if(this.type=="image"){this.src=""}else{if(this.type=="file"){var d=f.clone(true);d.val("");f.replaceWith(d);f=d}else{f.val("")}}}}}else{if(this.tagName=="TEXTAREA"){f.val("")}else{if(this.tagName=="SELECT"){if(this.multiple){this.value=null}else{this.value=""}}else{if(this.tagName=="IMG"){this.src=""}else{f.empty()}}}}if(!b){f.change()}})},floatOnly:function(c,b){a(this).find(c).each(function(){var d=a(this);d.css("ime-mode","disabled");d.bind("paste",function(){return clipboardData.getData("text").match(/^[\d]*$/)!=null});d.bind("dragenter",function(){return false});if(b){d.bind("keypress",function(g){var f=g.which;return g.charCode==0||(f>=48&&f<=57)||(f==46&&this.value!=""&&this.value.indexOf(".")==-1)||f==45}).keyup(function(g){var f=g.which;if(f==189){this.value=(this.value.indexOf("-")==0?"-":"")+this.value.replace(/-/g,"")}})}else{d.bind("keypress",function(g){var f=g.which;return g.charCode==0||(f>=48&&f<=57)||(f==46&&this.value!=""&&this.value.indexOf(".")==-1)})}})},integerOnly:function(c,b){a(this).find(c).each(function(){var d=a(this);d.css("ime-mode","disabled");d.bind("paste",function(){return clipboardData.getData("text").match(/^[\d]*$/)==null});d.bind("dragenter",function(){return false});if(b){d.bind("keypress",function(){var f=e.which;return e.charCode==0||(f>=48&&f<=57)||f==45}).bind("keyup",function(g){var f=g.which;if(f==189){this.value=(this.value.indexOf("-")==0?"-":"")+this.value.replace(/-/g,"")}})}else{d.bind("keypress",function(g){var f=g.which;return g.charCode==0||(f>=48&&f<=57)})}})},letterOnly:function(b){a(this).find(b).each(function(){var c=a(this);c.css("ime-mode","disabled");c.bind("paste",function(){return clipboardData.getData("text").match(/^[A-Za-z]*$/)==null});c.bind("dragenter",function(){return false});c.bind("keypress",function(f){var d=f.which;return f.charCode==0||(d>=65&&d<=90)||(d>=97&&d<=122)})})},wordOnly:function(b){a(this).find(b).each(function(){var c=a(this);c.css("ime-mode","disabled");c.bind("paste",function(){return clipboardData.getData("text").match(/^[A-Za-z0-9]*$/)==null});c.bind("dragenter",function(){return false});c.bind("keypress",function(f){var d=f.which;return f.charCode==0||(d>=65&&d<=90)||(d>=97&&d<=122)||(d>=48&&d<=57)})})},maxlen:function(b){a(this).find(b).each(function(){var d=a(this),c=function(){var f=parseInt(d.attr("maxlength"))||0;if(!isNaN(f)&&f>-1){var g=f-d.val().length;if(g<0){d.html(d.val().substr(0,f))}}return true};d.bind("keypress",function(){var f=parseInt(d.attr("maxlength"))||0;return e.charCode==0||f>d.val().length}).bind("keyup",c)})}});a.extend({form:function(b){return a(b)}})})(jQuery);